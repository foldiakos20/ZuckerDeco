<!-- Container -->
<div class="container h-100">

	<!-- Row -->
	<div class="row d-flex flex-column h-100 px-2 px-sm-0 overflow-x-auto
							justify-content-center align-items-center">
		
		<!--Form dialog -->
		<div class="form-dialog p-0 bg-white shadow-bottom rounded-top-4 rounded-bottom-3 
								overflow-hidden scale-up col-12 col-sm-11 col-lg-10 col-xl-9 col-xxl-8">

			<!-- Header -->
			<ng-form-dialog-header title-icon="fa-solid fa-key"
														 title-text-id="password_change"
														 title-class="lin-grad-olive text-white">
			</ng-form-dialog-header>

			<!-- Body -->
			<form class="form-dialog-body overflow-auto p-3 pt-4"
						name="dataForm" novalidate>

				<!-- Email current -->
				<div class="row input-row mb-2">

					<!-- Label -->
					<label for="email_current" 
								 class="col-form-label col-form-label-sm col-md-4 text-md-end fw-semibold">
						<i class="fa-solid fa-star fa-2xs text-danger"></i>
						<i class="fa-solid fa-envelope me-1"></i>
						<span class="text-capitalize">
							{{'current' | translate:lang.data}}
						</span>
						<span>{{'email_address' | translate:lang.data}}:</span>
					</label>

					<!-- Input email -->
					<div class="col-11 col-md-7 position-relative">

						<!--  Input temporary -->
						<input id="email_current_user"
									 name="email_current_user" 
									 type="email"
									 class="d-none"
									 ng-model="model.email_current_user"
									 ng-init="model.email_current_user=user.email">

						<!-- Input email current -->
						<input id="email_current"
									 name="email_current" 
									 type="email"
									 ng-attr-placeholder="{{('current' | translate:lang.data) + ' ' + 
																					 ('email_address' | translate:lang.data)}}"
									 class="form-control form-control-sm input-email"
									 spellcheck="false" 
									 autocomplete="off" 
									 required
									 maxlength="50"
									 ng-model="model.email_current"
									 ng-init="model.email_current=null"
									 ng-compare-model="model.email_current_user"
									 ng-trim="false"
									 ng-disable-space
									 ng-pattern="/^([a-z0-9_.+-])+\@(([a-z0-9-])+\.)+([a-z0-9]{2,4})+$/"
									 ng-clear-icon
									 ng-check-mark>
					</div>
				</div>

				<!-- Password current-->
				<div class="row input-row mb-0"
						 ng-class="{'mb-2': !methods.getOptionsKey('isPasswordShowRule')}">

					<!-- Label -->
					<label for="password_current" 
								 class="col-form-label col-form-label-sm col-md-4 text-md-end fw-semibold">
						<i class="fa-solid fa-star fa-2xs text-danger"></i>
						<i class="fa-solid fa-key me-1"></i>
						<span class="text-capitalize">
							{{'current' | translate:lang.data}}
						</span>
						<span>{{'password' | translate:lang.data }}:</span>
					</label>

					<!-- Input password -->
					<div class="col-11 col-md-7 position-relative">
						<input id="password_current"
									 name="password_current"
									 type="password"
									 ng-attr-placeholder="{{('current' | translate:lang.data) + ' ' + 
										 												('password' | translate:lang.data)}}"
									 class="form-control form-control-sm input-password"
									 spellcheck="false" 
									 autocomplete="off" 
									 required
									 maxlength="20"
									 ng-model="model.password_current"
									 ng-init="model.password_current=null"
									 ng-trim="false"
									 ng-disable-space
									 ng-pattern="/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/"
									 ng-clear-icon
									 ng-check-mark>
					</div>
				</div>

				<!-- Password rule -->
				<ng-show-rule ng-if="methods.getOptionsKey('isPasswordShowRule')"></ng-show-rule>

				<!-- Password new -->
				<div class="row input-row mb-2 mt-3">

					<!-- Label -->
					<label for="password" 
								 class="col-form-label col-form-label-sm col-md-4 text-md-end fw-semibold">
						<i class="fa-solid fa-star fa-2xs text-danger"></i>
						<i class="fa-solid fa-key me-1"></i>
						<span class="text-capitalize">
							{{'new' | translate:lang.data}}
						</span>
						<span>{{'password' | translate:lang.data }}:</span>
					</label>

					<!-- Input password -->
					<div class="col-11 col-md-7 position-relative">
						<input id="password"
									 name="password"
									 type="password"
									 ng-attr-placeholder="{{('new' | translate:lang.data) + ' ' + 
										 												('password' | translate:lang.data)}}"
									 class="form-control form-control-sm input-password"
									 spellcheck="false" 
									 autocomplete="off" 
									 required
									 maxlength="20"
									 ng-model="model.password"
									 ng-init="model.password=null"
									 ng-compare-model-different="model.password_current"
									 ng-trim="false"
									 ng-disable-space
									 ng-pattern="/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/"
									 ng-clear-icon
									 ng-check-mark>
					</div>
				</div>

				<!-- Password confirm -->
				<div class="row input-row mb-2"
						 ng-if="methods.getOptionsKey('isPasswordConfirm')">

					<!-- Label -->
					<label for="password_confirm" 
								 class="col-form-label col-form-label-sm col-md-4 text-md-end fw-semibold">
						<i class="fa-solid fa-star fa-2xs text-danger"></i>
						<i class="fa-solid fa-key me-1"></i>
						<span class="text-capitalize">
							{{'new' | translate:lang.data}}
						</span>
						<span>{{'password' | translate:lang.data}}</span>
						<span>{{'confirmation' | translate:lang.data}}:</span>	
					</label>

					<!-- Input new password confirm -->
					<div class="col-11 col-md-7 position-relative">
						<input id="password_confirm"
									 name="password_confirm"
									 type="password"
									 ng-attr-placeholder="{{('new' | translate:lang.data) + ' ' + 
																					('password' | translate:lang.data) + ' ' + 
										 											('confirmation' | translate:lang.data)}}"
									 class="form-control form-control-sm input-password"
									 spellcheck="false" 
									 autocomplete="off" 
									 required
									 maxlength="20"
									 ng-model="model.password_confirm"
									 ng-init="model.password_confirm=null"
									 ng-compare-model="model.password"
									 ng-trim="false"
									 ng-disable-space
									 ng-pattern="/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/"
									 ng-clear-icon
									 ng-check-mark>
					</div>
				</div>

				<!-- Show/Hide password -->
				<ng-show-password></ng-show-password>

				<!-- Test code -->
				<ng-test-code ng-if="methods.getOptionsKey('isTestCode')"></ng-test-code>
			</form>

			<!-- Footer -->
			<ng-form-dialog-footer form-name="dataForm"
														 identifier="password_change"
														 accept-id="send"
														 accept-icon="fa-solid fa-upload"
														 is-in-edit-mode="helper.isInEditMode"
														 callback-accept="methods.accept"
														 callback-cancel="methods.cancel"
														 link-id="profile"
														 link-icon="fa-solid fa-user"
														 link-state="profile">
			</ng-form-dialog-footer>
		</div>
	</div>
</div>